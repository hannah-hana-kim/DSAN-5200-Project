{
  "hash": "5c4f6656a067b5516f3355de6f26e270",
  "result": {
    "markdown": "---\ntitle: \"Final Project Part 2 Visual\"\nsubtitle: \"Obesity & Malnourishment\"\nauthor: \"Tori Edmunds\"\nformat:\n  html:\n    theme: [cosmo, style/html-sta313.scss]\n    embed-resources: true\n    code-copy: true\n    code-overflow: wrap\n    mainfont: \"Palatino\"\n    link-external-icon: true\n    link-external-newwindow: true\n    code-annotations: hover\nexecute:\n  echo: true\n  warning: false\n  message: false\n  freeze: auto\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(plotly)\nlibrary(maps)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nobesity_data <- subset(read.csv(\"data/CleanedData/obesityadults.csv\"), select=-1)\ncolnames(obesity_data)[colnames(obesity_data) == \"Area\"] <- \"Country\"\ncolnames(obesity_data)[colnames(obesity_data) == \"Region\"] <- \"Continent\"\ncolnames(obesity_data)[colnames(obesity_data) == \"Percent\"] <- \"Obesity_Percent\"\n\nmalnour_data <- subset(read.csv(\"data/CleanedData/undernourishment.csv\"), select=-1)\ncolnames(malnour_data)[colnames(malnour_data) == \"Area\"] <- \"Country\"\ncolnames(malnour_data)[colnames(malnour_data) == \"Region\"] <- \"Continent\"\ncolnames(malnour_data)[colnames(malnour_data) == \"AVG_Percent\"] <- \"Malnourished_Percent\"\nmalnour_data$Start_Year <- as.integer(substr(malnour_data$YearPeriod, 2, 5))\nmalnour_data$End_Year <- as.integer(substr(malnour_data$YearPeriod, 6, 9))\nmalnour_data <- malnour_data[, -which(names(malnour_data) == \"YearPeriod\")]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ndf <- merge(obesity_data, malnour_data, by.x = c(\"Country\", \"Continent\", \"Year\"), by.y = c(\"Country\", \"Continent\", \"Start_Year\"))\ndf <- df[, -which(names(df) %in% c(\"End_Year\"))]\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\naverages <- df %>%\n  group_by(Year, Continent) %>%\n  summarise(`Avg Obesity %` = round(mean(Obesity_Percent, na.rm = TRUE), 2),\n    `Avg Malnourished %` = round(mean(as.numeric(Malnourished_Percent), na.rm = TRUE), 2), .groups = \"drop\")\n\naverages <- averages %>%\n  group_by(Continent) %>%\n  mutate(Obesity_Perc_Diff = ifelse(Continent == lag(Continent), round(`Avg Obesity %` - lag(`Avg Obesity %`), 2), \"\"),\n    Malnourished_Perc_Diff = ifelse(Continent == lag(Continent), round(`Avg Malnourished %` - lag(`Avg Malnourished %`), 2), \"\"))\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncolors <- c(\"Europe\" = \"#140D4F\", \"Africa\" = \"#598B2C\")\n\n#malnourished plot\nsubplot_malnourished <- averages %>%\n  plot_ly(x = ~Year, y = ~`Avg Malnourished %`, color = ~Continent, colors=colors, type = 'scatter', mode = 'lines+markers', showlegend=TRUE, text=~Malnourished_Perc_Diff, hovertemplate = paste(\"%{y:.2f}% (%{text}% change)\", \"<extra></extra>\"), marker = list(size = 8)) %>%\n  layout(xaxis = list(title = \"<b>Year<b>\", range=c(1999,2017), tickvals = seq(2000, 2016, by = 2)),\n         yaxis = list(title = \"<b>Avg. Malnourishment %<b>\", tickvals = seq(0, max(averages$`Avg Malnourished %`) + 1, by = 2), ticktext = paste0(seq(0, max(averages$`Avg Malnourished %`) + 1, by = 2), \"%\")), \n         hovermode = \"x unified\", \n         paper_bgcolor = \"#FCFFFC\",\n         font=list(family=\"Palatino\"),\n         legend=list(x=1, y=0.5, borderwidth=1, bordercolor='black')) \n\n#obesity plot\nsubplot_obesity <- averages %>%\n  plot_ly(x = ~Year, y = ~`Avg Obesity %`, color = ~Continent, colors=colors, type = 'scatter', mode = 'lines+markers', showlegend=FALSE, text=~Obesity_Perc_Diff, hovertemplate = paste(\"%{y:.2f}% (%{text}% increase)\", \"<extra></extra>\"), marker = list(size = 8)) %>%\n  layout(title = \"<b>Average Health Issue Rate in Europe & Africa (2000-2016)<b>\",\n         xaxis = list(title = \"<b>Year<b>\", tickvals = seq(2000, 2016, by = 2)),\n         yaxis = list(title = \"<b>Avg. Obesity %<b>\", tickvals = seq(0, max(averages$`Avg Malnourished %`) + 1, by = 2), ticktext = paste0(seq(0, max(averages$`Avg Malnourished %`) + 1, by = 2), \"%\")), \n         hovermode = \"x unified\", \n         paper_bgcolor = \"#FCFFFC\",\n         font=list(family=\"Palatino\"),\n         legend=list(x=1, y=0.5, borderwidth=1, bordercolor='black'))\n\nline_plot <- subplot(subplot_malnourished, subplot_obesity, margin=0.05,\n                     nrows = 1, titleY = TRUE, titleX = TRUE)\n\nline_plot\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-7bf4fd3de3630b34c1aa\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-7bf4fd3de3630b34c1aa\">{\"x\":{\"data\":[{\"x\":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],\"y\":[24.140000000000001,23.59,23.030000000000001,22.440000000000001,21.800000000000001,21.260000000000002,20.82,20.420000000000002,19.629999999999999,18.800000000000001,18.02,17.809999999999999,17.949999999999999,18.460000000000001,18.989999999999998,19.18,19.109999999999999,19.73,20.18,20.329999999999998,20.989999999999998],\"mode\":\"lines+markers\",\"showlegend\":true,\"text\":[null,-0.55000000000000004,-0.56000000000000005,-0.58999999999999997,-0.64000000000000001,-0.54000000000000004,-0.44,-0.40000000000000002,-0.79000000000000004,-0.82999999999999996,-0.78000000000000003,-0.20999999999999999,0.14000000000000001,0.51000000000000001,0.53000000000000003,0.19,-0.070000000000000007,0.62,0.45000000000000001,0.14999999999999999,0.66000000000000003],\"hovertemplate\":[\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\"],\"marker\":{\"color\":\"rgba(89,139,44,1)\",\"size\":8,\"line\":{\"color\":\"rgba(89,139,44,1)\"}},\"type\":\"scatter\",\"name\":\"Africa\",\"textfont\":{\"color\":\"rgba(89,139,44,1)\"},\"error_y\":{\"color\":\"rgba(89,139,44,1)\"},\"error_x\":{\"color\":\"rgba(89,139,44,1)\"},\"line\":{\"color\":\"rgba(89,139,44,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],\"y\":[6.5499999999999998,6.4500000000000002,6.3700000000000001,7.6200000000000001,10.48,9.8800000000000008,10.32,9.4399999999999995,7.6600000000000001,5.5499999999999998,4.0300000000000002,4.2400000000000002,4.3799999999999999,4.4000000000000004,4.2800000000000002,4.1200000000000001,3.6000000000000001,3.1600000000000001,3.1299999999999999,3.52,3.98],\"mode\":\"lines+markers\",\"showlegend\":true,\"text\":[null,-0.10000000000000001,-0.080000000000000002,1.25,2.8599999999999999,-0.59999999999999998,0.44,-0.88,-1.78,-2.1099999999999999,-1.52,0.20999999999999999,0.14000000000000001,0.02,-0.12,-0.16,-0.52000000000000002,-0.44,-0.029999999999999999,0.39000000000000001,0.46000000000000002],\"hovertemplate\":[\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\"],\"marker\":{\"color\":\"rgba(20,13,79,1)\",\"size\":8,\"line\":{\"color\":\"rgba(20,13,79,1)\"}},\"type\":\"scatter\",\"name\":\"Europe\",\"textfont\":{\"color\":\"rgba(20,13,79,1)\"},\"error_y\":{\"color\":\"rgba(20,13,79,1)\"},\"error_x\":{\"color\":\"rgba(20,13,79,1)\"},\"line\":{\"color\":\"rgba(20,13,79,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016],\"y\":[6.7800000000000002,7.0300000000000002,7.2999999999999998,7.5700000000000003,7.8399999999999999,8.1199999999999992,8.4100000000000001,8.7100000000000009,9.0099999999999998,9.3300000000000001,9.6600000000000001,9.9800000000000004,10.32,10.67,11.029999999999999,11.4,11.779999999999999],\"mode\":\"lines+markers\",\"showlegend\":false,\"text\":[null,0.25,0.27000000000000002,0.27000000000000002,0.27000000000000002,0.28000000000000003,0.28999999999999998,0.29999999999999999,0.29999999999999999,0.32000000000000001,0.33000000000000002,0.32000000000000001,0.34000000000000002,0.34999999999999998,0.35999999999999999,0.37,0.38],\"hovertemplate\":[\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\"],\"marker\":{\"color\":\"rgba(89,139,44,1)\",\"size\":8,\"line\":{\"color\":\"rgba(89,139,44,1)\"}},\"type\":\"scatter\",\"name\":\"Africa\",\"textfont\":{\"color\":\"rgba(89,139,44,1)\"},\"error_y\":{\"color\":\"rgba(89,139,44,1)\"},\"error_x\":{\"color\":\"rgba(89,139,44,1)\"},\"line\":{\"color\":\"rgba(89,139,44,1)\"},\"xaxis\":\"x2\",\"yaxis\":\"y2\",\"frame\":null},{\"x\":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016],\"y\":[16.829999999999998,17.16,17.5,17.84,18.190000000000001,18.559999999999999,18.91,19.280000000000001,19.649999999999999,20.02,20.390000000000001,20.77,21.149999999999999,21.539999999999999,21.93,22.329999999999998,22.739999999999998],\"mode\":\"lines+markers\",\"showlegend\":false,\"text\":[null,0.33000000000000002,0.34000000000000002,0.34000000000000002,0.34999999999999998,0.37,0.34999999999999998,0.37,0.37,0.37,0.37,0.38,0.38,0.39000000000000001,0.39000000000000001,0.40000000000000002,0.40999999999999998],\"hovertemplate\":[\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\"],\"marker\":{\"color\":\"rgba(20,13,79,1)\",\"size\":8,\"line\":{\"color\":\"rgba(20,13,79,1)\"}},\"type\":\"scatter\",\"name\":\"Europe\",\"textfont\":{\"color\":\"rgba(20,13,79,1)\"},\"error_y\":{\"color\":\"rgba(20,13,79,1)\"},\"error_x\":{\"color\":\"rgba(20,13,79,1)\"},\"line\":{\"color\":\"rgba(20,13,79,1)\"},\"xaxis\":\"x2\",\"yaxis\":\"y2\",\"frame\":null}],\"layout\":{\"xaxis\":{\"domain\":[0,0.45000000000000001],\"automargin\":true,\"title\":\"<b>Year<b>\",\"range\":[1999,2017],\"tickvals\":[2000,2002,2004,2006,2008,2010,2012,2014,2016],\"anchor\":\"y\"},\"xaxis2\":{\"domain\":[0.55000000000000004,1],\"automargin\":true,\"title\":\"<b>Year<b>\",\"tickvals\":[2000,2002,2004,2006,2008,2010,2012,2014,2016],\"anchor\":\"y2\"},\"yaxis2\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"<b>Avg. Obesity %<b>\",\"tickvals\":[0,2,4,6,8,10,12,14,16,18,20,22,24],\"ticktext\":[\"0%\",\"2%\",\"4%\",\"6%\",\"8%\",\"10%\",\"12%\",\"14%\",\"16%\",\"18%\",\"20%\",\"22%\",\"24%\"],\"anchor\":\"x2\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"title\":\"<b>Avg. Malnourishment %<b>\",\"tickvals\":[0,2,4,6,8,10,12,14,16,18,20,22,24],\"ticktext\":[\"0%\",\"2%\",\"4%\",\"6%\",\"8%\",\"10%\",\"12%\",\"14%\",\"16%\",\"18%\",\"20%\",\"22%\",\"24%\"],\"anchor\":\"x\"},\"annotations\":[],\"shapes\":[],\"images\":[],\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"hovermode\":\"x unified\",\"paper_bgcolor\":\"#FCFFFC\",\"font\":{\"family\":\"Palatino\"},\"legend\":{\"x\":1,\"y\":0.5,\"borderwidth\":1,\"bordercolor\":\"black\"},\"showlegend\":true,\"title\":\"<b>Average Health Issue Rate in Europe & Africa (2000-2016)<b>\"},\"attrs\":{\"17fb21c831647\":{\"x\":{},\"y\":{},\"mode\":\"lines+markers\",\"showlegend\":true,\"text\":{},\"hovertemplate\":\"%{y:.2f}% (%{text}% change) <extra><\\/extra>\",\"marker\":{\"size\":8},\"color\":{},\"colors\":[\"#140D4F\",\"#598B2C\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\"},\"17fb2622b9df0\":{\"x\":{},\"y\":{},\"mode\":\"lines+markers\",\"showlegend\":false,\"text\":{},\"hovertemplate\":\"%{y:.2f}% (%{text}% increase) <extra><\\/extra>\",\"marker\":{\"size\":8},\"color\":{},\"colors\":[\"#140D4F\",\"#598B2C\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"scatter\"}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"subplot\":true,\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# subset\nafrica_data <- averages %>% filter(Continent == \"Africa\")\neurope_data <- averages %>% filter(Continent == \"Europe\")\n\n# malnourishment plots\nmalnourished_africa <- plot_ly(africa_data, x = ~Year, y = ~`Avg Malnourished %`, type = 'bar', color = ~Continent, colors = colors, showlegend = FALSE, text=~Malnourished_Perc_Diff, hovertemplate = paste(\"%{y:.2f}% <br> (%{text:.2f}% change)\")) %>%\n  layout(title = \"<b>Average Malnourishment Rate in Europe & Africa (2000-2016)</b>\",\n         xaxis = list(title = \"<b>Year<b>\", range=c(1999.5,2016.5), tickvals = seq(2000, 2016, by = 2), color = \"#1c0b19\"),\n         yaxis = list(title = \"<b>Avg Malnourishment %<b>\", \n                      range = c(0,28),\n                      tickvals = seq(0, 25, by = 5), \n                      ticktext = paste0(seq(0, 25, by = 5), \"%\"),\n                      color = \"#1c0b19\",\n                      showgrid = TRUE, gridcolor = \"#F0F8FF\"), \n         hovermode = \"x unified\", \n         paper_bgcolor = \"#FCFFFC\",\n         font = list(family = \"Palatino\", color = \"#1c0b19\"),\n         legend=list(x=1.05, y=0.5, borderwidth=1, bordercolor='#11270b', font=list(color=\"#1c0b19\")))\n\nmalnourished_europe <- plot_ly(europe_data, x = ~Year, y = ~`Avg Malnourished %`, type = 'bar', color = ~Continent, colors = colors, showlegend = FALSE, text=~Malnourished_Perc_Diff, hovertemplate = paste(\"%{y:.2f}% <br> (%{text:.2f}% change)\")) %>%\n  layout(xaxis = list(title = \"<b>Year<b>\", range=c(1999.5,2016.5), tickvals = seq(2000, 2016, by = 2), color = \"#1c0b19\"),\n         yaxis = list(title = \"<b>Avg Malnourishment %<b>\", \n                      range = c(0,28), \n                      tickvals = seq(0, 25, by = 5), \n                      ticktext = paste0(seq(0, 25, by = 5), \"%\"),\n                      color = \"#1c0b19\",\n                      showgrid = TRUE, gridcolor = \"#F0F8FF\"), \n         hovermode = \"x unified\", \n         paper_bgcolor = \"#FCFFFC\",\n         font = list(family = \"Palatino\", color = \"#1c0b19\"),\n         legend=list(x=1.05, y=0.5, borderwidth=1, bordercolor='#11270b', font=list(color=\"#1c0b19\")))\n\n# create subplot for malnourishment\nsubplot_barcharts <- subplot(\n  malnourished_europe, malnourished_africa,\n  nrows = 2, margin = 0.05\n) \n\nsubplot_barcharts\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-48a1de0bf823fa73626b\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-48a1de0bf823fa73626b\">{\"x\":{\"data\":[{\"x\":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],\"y\":[6.5499999999999998,6.4500000000000002,6.3700000000000001,7.6200000000000001,10.48,9.8800000000000008,10.32,9.4399999999999995,7.6600000000000001,5.5499999999999998,4.0300000000000002,4.2400000000000002,4.3799999999999999,4.4000000000000004,4.2800000000000002,4.1200000000000001,3.6000000000000001,3.1600000000000001,3.1299999999999999,3.52,3.98],\"showlegend\":false,\"text\":[null,-0.10000000000000001,-0.080000000000000002,1.25,2.8599999999999999,-0.59999999999999998,0.44,-0.88,-1.78,-2.1099999999999999,-1.52,0.20999999999999999,0.14000000000000001,0.02,-0.12,-0.16,-0.52000000000000002,-0.44,-0.029999999999999999,0.39000000000000001,0.46000000000000002],\"hovertemplate\":[\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\"],\"type\":\"bar\",\"name\":\"Europe\",\"marker\":{\"color\":\"rgba(20,13,79,1)\",\"line\":{\"color\":\"rgba(20,13,79,1)\"}},\"textfont\":{\"color\":\"rgba(20,13,79,1)\"},\"error_y\":{\"color\":\"rgba(20,13,79,1)\"},\"error_x\":{\"color\":\"rgba(20,13,79,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019,2020],\"y\":[24.140000000000001,23.59,23.030000000000001,22.440000000000001,21.800000000000001,21.260000000000002,20.82,20.420000000000002,19.629999999999999,18.800000000000001,18.02,17.809999999999999,17.949999999999999,18.460000000000001,18.989999999999998,19.18,19.109999999999999,19.73,20.18,20.329999999999998,20.989999999999998],\"showlegend\":false,\"text\":[null,-0.55000000000000004,-0.56000000000000005,-0.58999999999999997,-0.64000000000000001,-0.54000000000000004,-0.44,-0.40000000000000002,-0.79000000000000004,-0.82999999999999996,-0.78000000000000003,-0.20999999999999999,0.14000000000000001,0.51000000000000001,0.53000000000000003,0.19,-0.070000000000000007,0.62,0.45000000000000001,0.14999999999999999,0.66000000000000003],\"hovertemplate\":[\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"%{y:.2f}% <br> (%{text:.2f}% change)\"],\"type\":\"bar\",\"name\":\"Africa\",\"marker\":{\"color\":\"rgba(89,139,44,1)\",\"line\":{\"color\":\"rgba(89,139,44,1)\"}},\"textfont\":{\"color\":\"rgba(89,139,44,1)\"},\"error_y\":{\"color\":\"rgba(89,139,44,1)\"},\"error_x\":{\"color\":\"rgba(89,139,44,1)\"},\"xaxis\":\"x2\",\"yaxis\":\"y2\",\"frame\":null}],\"layout\":{\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"range\":[1999.5,2016.5],\"tickvals\":[2000,2002,2004,2006,2008,2010,2012,2014,2016],\"color\":\"#1c0b19\",\"anchor\":\"y\"},\"xaxis2\":{\"domain\":[0,1],\"automargin\":true,\"range\":[1999.5,2016.5],\"tickvals\":[2000,2002,2004,2006,2008,2010,2012,2014,2016],\"color\":\"#1c0b19\",\"anchor\":\"y2\"},\"yaxis2\":{\"domain\":[0,0.45000000000000001],\"automargin\":true,\"range\":[0,28],\"tickvals\":[0,5,10,15,20,25],\"ticktext\":[\"0%\",\"5%\",\"10%\",\"15%\",\"20%\",\"25%\"],\"color\":\"#1c0b19\",\"showgrid\":true,\"gridcolor\":\"#F0F8FF\",\"anchor\":\"x2\"},\"yaxis\":{\"domain\":[0.55000000000000004,1],\"automargin\":true,\"range\":[0,28],\"tickvals\":[0,5,10,15,20,25],\"ticktext\":[\"0%\",\"5%\",\"10%\",\"15%\",\"20%\",\"25%\"],\"color\":\"#1c0b19\",\"showgrid\":true,\"gridcolor\":\"#F0F8FF\",\"anchor\":\"x\"},\"annotations\":[],\"shapes\":[],\"images\":[],\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"hovermode\":\"x unified\",\"paper_bgcolor\":\"#FCFFFC\",\"font\":{\"family\":\"Palatino\",\"color\":\"#1c0b19\"},\"legend\":{\"x\":1.05,\"y\":0.5,\"borderwidth\":1,\"bordercolor\":\"#11270b\",\"font\":{\"color\":\"#1c0b19\"}},\"showlegend\":false,\"title\":\"<b>Average Malnourishment Rate in Europe & Africa (2000-2016)<\\/b>\"},\"attrs\":{\"17fb235d3b5d1\":{\"x\":{},\"y\":{},\"showlegend\":false,\"text\":{},\"hovertemplate\":\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"color\":{},\"colors\":[\"#140D4F\",\"#598B2C\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"bar\"},\"17fb26061d0ce\":{\"x\":{},\"y\":{},\"showlegend\":false,\"text\":{},\"hovertemplate\":\"%{y:.2f}% <br> (%{text:.2f}% change)\",\"color\":{},\"colors\":[\"#140D4F\",\"#598B2C\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"bar\"}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"subplot\":true,\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n\n```{.r .cell-code}\n# obesity plots\nobesity_africa <- plot_ly(africa_data, x = ~Year, y = ~`Avg Obesity %`, type = 'bar', color = ~Continent, colors = colors, showlegend = FALSE, text=~Obesity_Perc_Diff, hovertemplate = paste(\"%{y:.2f}% <br> (%{text:.2f}% increase)\")) %>%\n  layout(title = \"<b>Average Obesity Rate in Europe & Africa (2000-2016)</b>\",\n         xaxis = list(title = \"<b>Year<b>\", tickvals = seq(2000, 2016, by = 2)),\n         yaxis = list(title = \"<b>Avg Obesity %<b>\", \n                      range = c(0,28), \n                      tickvals = seq(0, 25, by = 5), \n                      ticktext = paste0(seq(0, 25, by = 5), \"%\")), \n         hovermode = \"x unified\", \n         paper_bgcolor = \"#FCFFFC\",\n         font = list(family = \"Palatino\", color = \"#1c0b19\"),\n         legend=list(x=1.05, y=0.5, borderwidth=1, bordercolor='black'))\n\nobesity_europe <- plot_ly(europe_data, x = ~Year, y = ~`Avg Obesity %`, type = 'bar', color = ~Continent, colors = colors, showlegend = FALSE, text=~Obesity_Perc_Diff, hovertemplate = paste(\"%{y:.2f}% <br> (%{text:.2f}% increase)\")) %>%\n  layout(xaxis = list(title = \"<b>Year<b>\", tickvals = seq(2000, 2016, by = 2), color=\"#1c0b19\"),\n         yaxis = list(title = \"<b>Avg Obesity %<b>\", \n                      range = c(0,28), \n                      tickvals = seq(0, 25, by = 5), \n                      ticktext = paste0(seq(0, 25, by = 5), \"%\")), \n         hovermode = \"x unified\", \n         paper_bgcolor = \"#FCFFFC\",\n         font = list(family = \"Palatino\", color = \"#1c0b19\"),\n         legend=list(x=1.05, y=0.5, borderwidth=1, bordercolor='#11270b', font=list(color=\"#1c0b19\")))\n\n\n# create subplot for obesity\nsubplot_barcharts1 <- subplot(\n  obesity_europe, obesity_africa,\n  nrows = 2, margin = 0.05\n)\nsubplot_barcharts1\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-2e4f6d2a98c97b4961c4\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-2e4f6d2a98c97b4961c4\">{\"x\":{\"data\":[{\"x\":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016],\"y\":[16.829999999999998,17.16,17.5,17.84,18.190000000000001,18.559999999999999,18.91,19.280000000000001,19.649999999999999,20.02,20.390000000000001,20.77,21.149999999999999,21.539999999999999,21.93,22.329999999999998,22.739999999999998],\"showlegend\":false,\"text\":[null,0.33000000000000002,0.34000000000000002,0.34000000000000002,0.34999999999999998,0.37,0.34999999999999998,0.37,0.37,0.37,0.37,0.38,0.38,0.39000000000000001,0.39000000000000001,0.40000000000000002,0.40999999999999998],\"hovertemplate\":[\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\"],\"type\":\"bar\",\"name\":\"Europe\",\"marker\":{\"color\":\"rgba(20,13,79,1)\",\"line\":{\"color\":\"rgba(20,13,79,1)\"}},\"textfont\":{\"color\":\"rgba(20,13,79,1)\"},\"error_y\":{\"color\":\"rgba(20,13,79,1)\"},\"error_x\":{\"color\":\"rgba(20,13,79,1)\"},\"xaxis\":\"x\",\"yaxis\":\"y\",\"frame\":null},{\"x\":[2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016],\"y\":[6.7800000000000002,7.0300000000000002,7.2999999999999998,7.5700000000000003,7.8399999999999999,8.1199999999999992,8.4100000000000001,8.7100000000000009,9.0099999999999998,9.3300000000000001,9.6600000000000001,9.9800000000000004,10.32,10.67,11.029999999999999,11.4,11.779999999999999],\"showlegend\":false,\"text\":[null,0.25,0.27000000000000002,0.27000000000000002,0.27000000000000002,0.28000000000000003,0.28999999999999998,0.29999999999999999,0.29999999999999999,0.32000000000000001,0.33000000000000002,0.32000000000000001,0.34000000000000002,0.34999999999999998,0.35999999999999999,0.37,0.38],\"hovertemplate\":[\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"%{y:.2f}% <br> (%{text:.2f}% increase)\"],\"type\":\"bar\",\"name\":\"Africa\",\"marker\":{\"color\":\"rgba(89,139,44,1)\",\"line\":{\"color\":\"rgba(89,139,44,1)\"}},\"textfont\":{\"color\":\"rgba(89,139,44,1)\"},\"error_y\":{\"color\":\"rgba(89,139,44,1)\"},\"error_x\":{\"color\":\"rgba(89,139,44,1)\"},\"xaxis\":\"x2\",\"yaxis\":\"y2\",\"frame\":null}],\"layout\":{\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"tickvals\":[2000,2002,2004,2006,2008,2010,2012,2014,2016],\"color\":\"#1c0b19\",\"anchor\":\"y\"},\"xaxis2\":{\"domain\":[0,1],\"automargin\":true,\"tickvals\":[2000,2002,2004,2006,2008,2010,2012,2014,2016],\"anchor\":\"y2\"},\"yaxis2\":{\"domain\":[0,0.45000000000000001],\"automargin\":true,\"range\":[0,28],\"tickvals\":[0,5,10,15,20,25],\"ticktext\":[\"0%\",\"5%\",\"10%\",\"15%\",\"20%\",\"25%\"],\"anchor\":\"x2\"},\"yaxis\":{\"domain\":[0.55000000000000004,1],\"automargin\":true,\"range\":[0,28],\"tickvals\":[0,5,10,15,20,25],\"ticktext\":[\"0%\",\"5%\",\"10%\",\"15%\",\"20%\",\"25%\"],\"anchor\":\"x\"},\"annotations\":[],\"shapes\":[],\"images\":[],\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"hovermode\":\"x unified\",\"paper_bgcolor\":\"#FCFFFC\",\"font\":{\"family\":\"Palatino\",\"color\":\"#1c0b19\"},\"legend\":{\"x\":1.05,\"y\":0.5,\"borderwidth\":1,\"bordercolor\":\"black\",\"font\":{\"color\":\"#1c0b19\"}},\"showlegend\":false,\"title\":\"<b>Average Obesity Rate in Europe & Africa (2000-2016)<\\/b>\"},\"attrs\":{\"17fb2374a1138\":{\"x\":{},\"y\":{},\"showlegend\":false,\"text\":{},\"hovertemplate\":\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"color\":{},\"colors\":[\"#140D4F\",\"#598B2C\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"bar\"},\"17fb25e45c7f2\":{\"x\":{},\"y\":{},\"showlegend\":false,\"text\":{},\"hovertemplate\":\"%{y:.2f}% <br> (%{text:.2f}% increase)\",\"color\":{},\"colors\":[\"#140D4F\",\"#598B2C\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"bar\"}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"subplot\":true,\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nworld_map <- map_data(\"world\")\nchoropleth <- merge(world_map, df, by.x=\"region\", by.y=\"Country\", all.x=TRUE)\nchoropleth <- choropleth[!is.na(choropleth$Year), ]\nchoropleth <- subset(choropleth, Year <= 2016)\nchoropleth <- choropleth %>% arrange(region, Year) %>%\n  mutate(Malnourished_Percent = ifelse(Malnourished_Percent == \"<2.5\", 2.5,  Malnourished_Percent)) %>%\n  filter(Malnourished_Percent != \"\") %>%\n  mutate(Malnourished_Percent = as.numeric(`Malnourished_Percent`))\n\nchoropleth <- choropleth %>%\n  group_by(region, Year) %>%\n  summarise(Longitude = mean(long),\n            Latitude = mean(lat),\n            Continent = first(Continent),\n            `Obesity %` = first(Obesity_Percent),\n            `Malnourished %` = first(Malnourished_Percent),\n            Group = first(group), .groups=\"drop\") \n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncountry_avgs <- choropleth %>%\n  group_by(region) %>%\n  summarise(\n    Longitude = mean(Longitude),\n    Latitude = mean(Latitude),\n    Continent = first(Continent),\n    Avg_Obesity_Perc = round(mean(`Obesity %`, na.rm = TRUE), 2),\n    Avg_Malnour_Perc = round(mean(`Malnourished %`, na.rm = TRUE), 2),\n    .groups = \"drop\"\n  )\n\nhead(country_avgs)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 × 6\n  region  Longitude Latitude Continent Avg_Obesity_Perc Avg_Malnour_Perc\n  <chr>       <dbl>    <dbl> <chr>                <dbl>            <dbl>\n1 Albania     20.1      41.1 Europe               17.2              6.04\n2 Algeria      1.78     29.2 Africa               22.2              4.92\n3 Angola      17.4     -10.8 Africa                5.71            34.6 \n4 Austria     13.5      47.6 Europe               16.9              2.5 \n5 Belarus     28.1      53.5 Europe               21.6              2.6 \n6 Belgium      4.73     50.6 Europe               19.5              2.5 \n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\naverage_stats <- country_avgs %>%\n  group_by(Continent) %>%\n  summarize(`Avg Malnourishment %` = round(mean(Avg_Malnour_Perc),2),\n            `Avg Obesity %` = round(mean(Avg_Obesity_Perc),2))\n\naverage_stats\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 × 3\n  Continent `Avg Malnourishment %` `Avg Obesity %`\n  <chr>                      <dbl>           <dbl>\n1 Africa                     20.3              9.5\n2 Europe                      2.88            19.5\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncustom_palette <- c(\"steelblue1\", \"royalblue3\", \"firebrick2\", \"firebrick4\")\n\neurope_subset <- subset(country_avgs, Continent == \"Europe\")\n\n# obesity\neurope_ob <- plot_ly(\n  data = europe_subset,\n  z = ~Avg_Obesity_Perc,\n  locations = ~region,\n  locationmode = \"country names\",\n  type = \"choropleth\",\n  color = ~Avg_Obesity_Perc,\n  colors = custom_palette,\n  marker = list(line = list(color = \"black\", width = 1)),\n  text=~region,\n  hovertemplate = paste(\"%{text}: %{z:.2f}%\", \"<extra></extra>\")\n) %>%\ncolorbar(title = \"<b>Rate<b>\") %>%\nlayout(\n  title = \"<b>Average Obesity Rate in Europe (2000-2020)<b>\",\n  geo = list(scope = \"europe\", projection = list(type = \"natural earth\"), showlakes = FALSE, showframe=TRUE,\n    showland = TRUE,\n    showcountries = TRUE,\n    showcoastlines = TRUE,\n    countrycolor = \"black\",\n    countrywidth = 1,\n    lonaxis = list(range = c(-20, 39)), \n    lataxis = list(range = c(32, 80)),  \n    resolution = 50, landcolor=\"aliceblue\"), \n  paper_bgcolor = \"aliceblue\", \n  font = list(family = \"Palatino\"), \n  legend=list(x=1.05, y=0.5, borderwidth=1, bordercolor='black', title=\"Obesity Rate\")\n)\n\n# malnourishment\neurope_mal <- plot_ly(\n  data = europe_subset,\n  z = ~Avg_Malnour_Perc,\n  locations = ~region,\n  locationmode = \"country names\",\n  type = \"choropleth\",\n  color = ~Avg_Malnour_Perc,\n  colors = custom_palette,\n  marker = list(line = list(color = \"black\", width = 1)),\n  text=~region,\n  hovertemplate = paste(\"%{text}: %{z:.2f}%\", \"<extra></extra>\")\n) %>%\ncolorbar(title = \"<b>Rate<b>\")%>%\nlayout(\n  title = \"<b>Average Malnourishment Rate in Europe (2000-2020)<b>\",\n  geo = list(scope = \"world\", projection = list(type = \"natural earth\"), showlakes = FALSE,\n    showland = TRUE,\n    showcountries = TRUE,\n    showcoastlines = TRUE,\n    showframe = TRUE,\n    countrycolor = \"black\",\n    countrywidth = 1,\n    lonaxis = list(range = c(-20, 39)), \n    lataxis = list(range = c(32, 80)),  \n    resolution = 50, landcolor=\"aliceblue\"), \n  paper_bgcolor = \"aliceblue\", \n  font = list(family = \"Palatino\")\n)\n\neurope_ob\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-e9ea5bd819096ab5fca6\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-e9ea5bd819096ab5fca6\">{\"x\":{\"visdat\":{\"17fb24f189934\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"17fb24f189934\",\"attrs\":{\"17fb24f189934\":{\"z\":{},\"locations\":{},\"locationmode\":\"country names\",\"marker\":{\"line\":{\"color\":\"black\",\"width\":1}},\"text\":{},\"hovertemplate\":\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"color\":{},\"colors\":[\"steelblue1\",\"royalblue3\",\"firebrick2\",\"firebrick4\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"choropleth\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"zaxis\":{\"title\":\"Avg_Obesity_Perc\"}},\"hovermode\":\"closest\",\"showlegend\":false,\"legend\":{\"yanchor\":\"top\",\"y\":0.5,\"x\":1.05,\"borderwidth\":1,\"bordercolor\":\"black\",\"title\":\"Obesity Rate\"},\"title\":\"<b>Average Obesity Rate in Europe (2000-2020)<b>\",\"geo\":{\"scope\":\"europe\",\"projection\":{\"type\":\"natural earth\"},\"showlakes\":false,\"showframe\":true,\"showland\":true,\"showcountries\":true,\"showcoastlines\":true,\"countrycolor\":\"black\",\"countrywidth\":1,\"lonaxis\":{\"range\":[-20,39]},\"lataxis\":{\"range\":[32,80]},\"resolution\":50,\"landcolor\":\"aliceblue\"},\"paper_bgcolor\":\"aliceblue\",\"font\":{\"family\":\"Palatino\"}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"colorbar\":{\"title\":\"<b>Rate<b>\",\"ticklen\":2,\"len\":0.5,\"lenmode\":\"fraction\",\"y\":1,\"yanchor\":\"top\"},\"colorscale\":[[\"0\",\"rgba(99,184,255,1)\"],[\"0.0416666666666666\",\"rgba(95,173,249,1)\"],[\"0.0833333333333334\",\"rgba(91,161,242,1)\"],[\"0.125\",\"rgba(86,150,236,1)\"],[\"0.166666666666667\",\"rgba(82,139,230,1)\"],[\"0.208333333333333\",\"rgba(76,128,224,1)\"],[\"0.25\",\"rgba(71,117,217,1)\"],[\"0.291666666666667\",\"rgba(65,106,211,1)\"],[\"0.333333333333333\",\"rgba(58,95,205,1)\"],[\"0.375\",\"rgba(109,91,185,1)\"],[\"0.416666666666667\",\"rgba(140,87,164,1)\"],[\"0.458333333333333\",\"rgba(163,82,145,1)\"],[\"0.5\",\"rgba(181,77,125,1)\"],[\"0.541666666666667\",\"rgba(198,71,105,1)\"],[\"0.583333333333333\",\"rgba(212,64,86,1)\"],[\"0.625\",\"rgba(226,55,66,1)\"],[\"0.666666666666667\",\"rgba(238,44,44,1)\"],[\"0.708333333333333\",\"rgba(225,42,42,1)\"],[\"0.75\",\"rgba(212,39,39,1)\"],[\"0.791666666666667\",\"rgba(200,37,37,1)\"],[\"0.833333333333333\",\"rgba(187,35,35,1)\"],[\"0.875\",\"rgba(175,33,33,1)\"],[\"0.916666666666667\",\"rgba(163,30,30,1)\"],[\"0.958333333333333\",\"rgba(151,28,28,1)\"],[\"1\",\"rgba(139,26,26,1)\"]],\"showscale\":true,\"z\":[17.190000000000001,16.93,21.600000000000001,19.489999999999998,15.050000000000001,21.649999999999999,20.780000000000001,16.760000000000002,19.190000000000001,19.260000000000002,18.649999999999999,19.210000000000001,21.620000000000001,22.75,18.91,20.489999999999998,17.460000000000001,21.329999999999998,23.850000000000001,19.18,26.039999999999999,19.84,19.559999999999999,19.5,20.18,17.239999999999998,19.120000000000001,18.449999999999999,17.870000000000001,17.530000000000001,21.02,17.5,16.600000000000001,21.460000000000001],\"locations\":[\"Albania\",\"Austria\",\"Belarus\",\"Belgium\",\"Bosnia and Herzegovina\",\"Bulgaria\",\"Croatia\",\"Denmark\",\"Estonia\",\"Finland\",\"France\",\"Germany\",\"Greece\",\"Hungary\",\"Iceland\",\"Ireland\",\"Italy\",\"Latvia\",\"Lithuania\",\"Luxembourg\",\"Malta\",\"Montenegro\",\"North Macedonia\",\"Norway\",\"Poland\",\"Portugal\",\"Romania\",\"Serbia\",\"Slovakia\",\"Slovenia\",\"Spain\",\"Sweden\",\"Switzerland\",\"Ukraine\"],\"locationmode\":\"country names\",\"marker\":{\"line\":{\"colorbar\":{\"title\":\"\",\"ticklen\":2},\"cmin\":15.050000000000001,\"cmax\":26.039999999999999,\"colorscale\":[[\"0\",\"rgba(99,184,255,1)\"],[\"0.0416666666666666\",\"rgba(95,173,249,1)\"],[\"0.0833333333333334\",\"rgba(91,161,242,1)\"],[\"0.125\",\"rgba(86,150,236,1)\"],[\"0.166666666666667\",\"rgba(82,139,230,1)\"],[\"0.208333333333333\",\"rgba(76,128,224,1)\"],[\"0.25\",\"rgba(71,117,217,1)\"],[\"0.291666666666667\",\"rgba(65,106,211,1)\"],[\"0.333333333333333\",\"rgba(58,95,205,1)\"],[\"0.375\",\"rgba(109,91,185,1)\"],[\"0.416666666666667\",\"rgba(140,87,164,1)\"],[\"0.458333333333333\",\"rgba(163,82,145,1)\"],[\"0.5\",\"rgba(181,77,125,1)\"],[\"0.541666666666667\",\"rgba(198,71,105,1)\"],[\"0.583333333333333\",\"rgba(212,64,86,1)\"],[\"0.625\",\"rgba(226,55,66,1)\"],[\"0.666666666666667\",\"rgba(238,44,44,1)\"],[\"0.708333333333333\",\"rgba(225,42,42,1)\"],[\"0.75\",\"rgba(212,39,39,1)\"],[\"0.791666666666667\",\"rgba(200,37,37,1)\"],[\"0.833333333333333\",\"rgba(187,35,35,1)\"],[\"0.875\",\"rgba(175,33,33,1)\"],[\"0.916666666666667\",\"rgba(163,30,30,1)\"],[\"0.958333333333333\",\"rgba(151,28,28,1)\"],[\"1\",\"rgba(139,26,26,1)\"]],\"showscale\":false,\"color\":\"black\",\"width\":1}},\"text\":[\"Albania\",\"Austria\",\"Belarus\",\"Belgium\",\"Bosnia and Herzegovina\",\"Bulgaria\",\"Croatia\",\"Denmark\",\"Estonia\",\"Finland\",\"France\",\"Germany\",\"Greece\",\"Hungary\",\"Iceland\",\"Ireland\",\"Italy\",\"Latvia\",\"Lithuania\",\"Luxembourg\",\"Malta\",\"Montenegro\",\"North Macedonia\",\"Norway\",\"Poland\",\"Portugal\",\"Romania\",\"Serbia\",\"Slovakia\",\"Slovenia\",\"Spain\",\"Sweden\",\"Switzerland\",\"Ukraine\"],\"hovertemplate\":[\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\"],\"type\":\"choropleth\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n\n```{.r .cell-code}\neurope_mal\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-a2221bb94de972142b38\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-a2221bb94de972142b38\">{\"x\":{\"visdat\":{\"17fb257f24d7d\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"17fb257f24d7d\",\"attrs\":{\"17fb257f24d7d\":{\"z\":{},\"locations\":{},\"locationmode\":\"country names\",\"marker\":{\"line\":{\"color\":\"black\",\"width\":1}},\"text\":{},\"hovertemplate\":\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"color\":{},\"colors\":[\"steelblue1\",\"royalblue3\",\"firebrick2\",\"firebrick4\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"choropleth\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"zaxis\":{\"title\":\"Avg_Malnour_Perc\"}},\"hovermode\":\"closest\",\"showlegend\":false,\"legend\":{\"yanchor\":\"top\",\"y\":0.5},\"title\":\"<b>Average Malnourishment Rate in Europe (2000-2020)<b>\",\"geo\":{\"scope\":\"world\",\"projection\":{\"type\":\"natural earth\"},\"showlakes\":false,\"showland\":true,\"showcountries\":true,\"showcoastlines\":true,\"showframe\":true,\"countrycolor\":\"black\",\"countrywidth\":1,\"lonaxis\":{\"range\":[-20,39]},\"lataxis\":{\"range\":[32,80]},\"resolution\":50,\"landcolor\":\"aliceblue\"},\"paper_bgcolor\":\"aliceblue\",\"font\":{\"family\":\"Palatino\"}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"colorbar\":{\"title\":\"<b>Rate<b>\",\"ticklen\":2,\"len\":0.5,\"lenmode\":\"fraction\",\"y\":1,\"yanchor\":\"top\"},\"colorscale\":[[\"0\",\"rgba(99,184,255,1)\"],[\"0.0416666666666667\",\"rgba(95,173,249,1)\"],[\"0.0833333333333333\",\"rgba(91,161,242,1)\"],[\"0.125\",\"rgba(86,150,236,1)\"],[\"0.166666666666667\",\"rgba(82,139,230,1)\"],[\"0.208333333333333\",\"rgba(76,128,224,1)\"],[\"0.25\",\"rgba(71,117,217,1)\"],[\"0.291666666666667\",\"rgba(65,106,211,1)\"],[\"0.333333333333333\",\"rgba(58,95,205,1)\"],[\"0.375\",\"rgba(109,91,185,1)\"],[\"0.416666666666667\",\"rgba(140,87,164,1)\"],[\"0.458333333333333\",\"rgba(163,82,145,1)\"],[\"0.5\",\"rgba(181,77,125,1)\"],[\"0.541666666666667\",\"rgba(198,71,105,1)\"],[\"0.583333333333333\",\"rgba(212,64,86,1)\"],[\"0.625\",\"rgba(226,55,66,1)\"],[\"0.666666666666667\",\"rgba(238,44,44,1)\"],[\"0.708333333333333\",\"rgba(225,42,42,1)\"],[\"0.75\",\"rgba(212,39,39,1)\"],[\"0.791666666666667\",\"rgba(200,37,37,1)\"],[\"0.833333333333333\",\"rgba(187,35,35,1)\"],[\"0.875\",\"rgba(175,33,33,1)\"],[\"0.916666666666666\",\"rgba(163,30,30,1)\"],[\"0.958333333333333\",\"rgba(151,28,28,1)\"],[\"1\",\"rgba(139,26,26,1)\"]],\"showscale\":true,\"z\":[6.04,2.5,2.6000000000000001,2.5,2.6499999999999999,4.25,2.9900000000000002,2.5,2.6800000000000002,2.5,2.5,2.5,2.5,2.5,2.5,2.5,2.5,2.6899999999999999,2.5,2.5,2.5,4.1500000000000004,4.3399999999999999,2.5,2.5,2.5,2.5,2.6400000000000001,5.4400000000000004,2.5,2.5,2.5,2.5,2.5299999999999998],\"locations\":[\"Albania\",\"Austria\",\"Belarus\",\"Belgium\",\"Bosnia and Herzegovina\",\"Bulgaria\",\"Croatia\",\"Denmark\",\"Estonia\",\"Finland\",\"France\",\"Germany\",\"Greece\",\"Hungary\",\"Iceland\",\"Ireland\",\"Italy\",\"Latvia\",\"Lithuania\",\"Luxembourg\",\"Malta\",\"Montenegro\",\"North Macedonia\",\"Norway\",\"Poland\",\"Portugal\",\"Romania\",\"Serbia\",\"Slovakia\",\"Slovenia\",\"Spain\",\"Sweden\",\"Switzerland\",\"Ukraine\"],\"locationmode\":\"country names\",\"marker\":{\"line\":{\"colorbar\":{\"title\":\"\",\"ticklen\":2},\"cmin\":2.5,\"cmax\":6.04,\"colorscale\":[[\"0\",\"rgba(99,184,255,1)\"],[\"0.0416666666666667\",\"rgba(95,173,249,1)\"],[\"0.0833333333333333\",\"rgba(91,161,242,1)\"],[\"0.125\",\"rgba(86,150,236,1)\"],[\"0.166666666666667\",\"rgba(82,139,230,1)\"],[\"0.208333333333333\",\"rgba(76,128,224,1)\"],[\"0.25\",\"rgba(71,117,217,1)\"],[\"0.291666666666667\",\"rgba(65,106,211,1)\"],[\"0.333333333333333\",\"rgba(58,95,205,1)\"],[\"0.375\",\"rgba(109,91,185,1)\"],[\"0.416666666666667\",\"rgba(140,87,164,1)\"],[\"0.458333333333333\",\"rgba(163,82,145,1)\"],[\"0.5\",\"rgba(181,77,125,1)\"],[\"0.541666666666667\",\"rgba(198,71,105,1)\"],[\"0.583333333333333\",\"rgba(212,64,86,1)\"],[\"0.625\",\"rgba(226,55,66,1)\"],[\"0.666666666666667\",\"rgba(238,44,44,1)\"],[\"0.708333333333333\",\"rgba(225,42,42,1)\"],[\"0.75\",\"rgba(212,39,39,1)\"],[\"0.791666666666667\",\"rgba(200,37,37,1)\"],[\"0.833333333333333\",\"rgba(187,35,35,1)\"],[\"0.875\",\"rgba(175,33,33,1)\"],[\"0.916666666666666\",\"rgba(163,30,30,1)\"],[\"0.958333333333333\",\"rgba(151,28,28,1)\"],[\"1\",\"rgba(139,26,26,1)\"]],\"showscale\":false,\"color\":\"black\",\"width\":1}},\"text\":[\"Albania\",\"Austria\",\"Belarus\",\"Belgium\",\"Bosnia and Herzegovina\",\"Bulgaria\",\"Croatia\",\"Denmark\",\"Estonia\",\"Finland\",\"France\",\"Germany\",\"Greece\",\"Hungary\",\"Iceland\",\"Ireland\",\"Italy\",\"Latvia\",\"Lithuania\",\"Luxembourg\",\"Malta\",\"Montenegro\",\"North Macedonia\",\"Norway\",\"Poland\",\"Portugal\",\"Romania\",\"Serbia\",\"Slovakia\",\"Slovenia\",\"Spain\",\"Sweden\",\"Switzerland\",\"Ukraine\"],\"hovertemplate\":[\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\"],\"type\":\"choropleth\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nafrica_subset <- subset(country_avgs, Continent == \"Africa\")\n\n# obesity\nafrica_ob <- plot_ly(\n  data = africa_subset,\n  z = ~Avg_Obesity_Perc,\n  locations = ~region,\n  locationmode = \"country names\",\n  type = \"choropleth\",\n  color = ~Avg_Obesity_Perc,\n  colors = custom_palette,\n  marker = list(line = list(color = \"black\", width = 1)),\n  text=~region,\n  hovertemplate = paste(\"%{text}: %{z:.2f}%\", \"<extra></extra>\")\n) %>%\ncolorbar(title = \"<b>Rat<b>e\") %>%\nlayout(\n  title = \"<b>Average Obesity Rate in Africa (2000-2020)<b>\",\n  geo = list(scope = \"world\", projection = list(type = \"equirectangular\"), showlakes = FALSE,\n    showland = TRUE,\n    showcountries = TRUE,\n    showcoastlines = TRUE,\n    showframe = TRUE,\n    countrycolor = \"black\",\n    countrywidth = 1,\n    lonaxis = list(range = c(-20, 55)), \n    lataxis = list(range = c(-38, 40)),  \n    resolution = 50, landcolor=\"aliceblue\"), \n  paper_bgcolor = \"aliceblue\", \n  font = list(family = \"Palatino\"), \n  legend=list(x=1.05, y=0.5, borderwidth=1, bordercolor='black', title=\"Obesity Rate\")\n)\n\n# malnourishment\nafrica_mal <- plot_ly(\n  data = africa_subset,\n  z = ~Avg_Malnour_Perc,\n  locations = ~region,\n  locationmode = \"country names\",\n  type = \"choropleth\",\n  color = ~Avg_Malnour_Perc,\n  colors = custom_palette,\n  marker = list(line = list(color = \"black\", width = 1)),\n  text=~region,\n  hovertemplate = paste(\"%{text}: %{z:.2f}%\", \"<extra></extra>\")\n) %>%\ncolorbar(title = \"<b>Rate<b>\")%>%\nlayout(\n  title = \"<b>Average Malnourishment Rate in Africa (2000-2020)<b>\",\n  geo = list(scope = \"world\", projection = list(type = \"equirectangular\"), showlakes = FALSE,\n    showland = TRUE,\n    showcountries = TRUE,\n    showcoastlines = TRUE,\n    showframe = TRUE,\n    countrycolor = \"black\",\n    countrywidth = 1,\n    lonaxis = list(range = c(-20, 55)), \n    lataxis = list(range = c(-38, 40)),  \n    resolution = 50, landcolor=\"aliceblue\"), paper_bgcolor = \"aliceblue\", font = list(family = \"Palatino\")\n)\n\nafrica_ob\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-262d74c8149bde3b1f90\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-262d74c8149bde3b1f90\">{\"x\":{\"visdat\":{\"17fb252b8bff5\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"17fb252b8bff5\",\"attrs\":{\"17fb252b8bff5\":{\"z\":{},\"locations\":{},\"locationmode\":\"country names\",\"marker\":{\"line\":{\"color\":\"black\",\"width\":1}},\"text\":{},\"hovertemplate\":\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"color\":{},\"colors\":[\"steelblue1\",\"royalblue3\",\"firebrick2\",\"firebrick4\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"choropleth\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"zaxis\":{\"title\":\"Avg_Obesity_Perc\"}},\"hovermode\":\"closest\",\"showlegend\":false,\"legend\":{\"yanchor\":\"top\",\"y\":0.5,\"x\":1.05,\"borderwidth\":1,\"bordercolor\":\"black\",\"title\":\"Obesity Rate\"},\"title\":\"<b>Average Obesity Rate in Africa (2000-2020)<b>\",\"geo\":{\"scope\":\"world\",\"projection\":{\"type\":\"equirectangular\"},\"showlakes\":false,\"showland\":true,\"showcountries\":true,\"showcoastlines\":true,\"showframe\":true,\"countrycolor\":\"black\",\"countrywidth\":1,\"lonaxis\":{\"range\":[-20,55]},\"lataxis\":{\"range\":[-38,40]},\"resolution\":50,\"landcolor\":\"aliceblue\"},\"paper_bgcolor\":\"aliceblue\",\"font\":{\"family\":\"Palatino\"}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"colorbar\":{\"title\":\"<b>Rat<b>e\",\"ticklen\":2,\"len\":0.5,\"lenmode\":\"fraction\",\"y\":1,\"yanchor\":\"top\"},\"colorscale\":[[\"0\",\"rgba(99,184,255,1)\"],[\"0.0416666666666667\",\"rgba(95,173,249,1)\"],[\"0.0833333333333333\",\"rgba(91,161,242,1)\"],[\"0.125\",\"rgba(86,150,236,1)\"],[\"0.166666666666667\",\"rgba(82,139,230,1)\"],[\"0.208333333333333\",\"rgba(76,128,224,1)\"],[\"0.25\",\"rgba(71,117,217,1)\"],[\"0.291666666666667\",\"rgba(65,106,211,1)\"],[\"0.333333333333333\",\"rgba(58,95,205,1)\"],[\"0.375\",\"rgba(109,91,185,1)\"],[\"0.416666666666667\",\"rgba(140,87,164,1)\"],[\"0.458333333333333\",\"rgba(163,82,145,1)\"],[\"0.5\",\"rgba(181,77,125,1)\"],[\"0.541666666666667\",\"rgba(198,71,105,1)\"],[\"0.583333333333333\",\"rgba(212,64,86,1)\"],[\"0.625\",\"rgba(226,55,66,1)\"],[\"0.666666666666667\",\"rgba(238,44,44,1)\"],[\"0.708333333333333\",\"rgba(225,42,42,1)\"],[\"0.75\",\"rgba(212,39,39,1)\"],[\"0.791666666666667\",\"rgba(200,37,37,1)\"],[\"0.833333333333333\",\"rgba(187,35,35,1)\"],[\"0.875\",\"rgba(175,33,33,1)\"],[\"0.916666666666667\",\"rgba(163,30,30,1)\"],[\"0.958333333333333\",\"rgba(151,28,28,1)\"],[\"1\",\"rgba(139,26,26,1)\"]],\"showscale\":true,\"z\":[22.18,5.71,7.1299999999999999,16.129999999999999,3.6499999999999999,8.4399999999999995,5.5199999999999996,4.3600000000000003,5.8099999999999996,4.7199999999999998,11.300000000000001,26.870000000000001,3.04,12.119999999999999,7.3600000000000003,8.0899999999999999,5.5099999999999998,6.6799999999999997,4.9800000000000004,13.24,7.5099999999999998,27.789999999999999,3.6099999999999999,4.0800000000000001,6.0099999999999998,9.5700000000000003,8.6600000000000001,21.109999999999999,5.29,13.130000000000001,3.8399999999999999,6.1900000000000004,3.8900000000000001,9.2400000000000002,6.6100000000000003,11.119999999999999,6.3799999999999999,6,23.98,6.0800000000000001,22.41,3.6499999999999999,5.8899999999999997,13.1],\"locations\":[\"Algeria\",\"Angola\",\"Benin\",\"Botswana\",\"Burkina Faso\",\"Cameroon\",\"Central African Republic\",\"Chad\",\"Comoros\",\"Democratic Republic of the Congo\",\"Djibouti\",\"Egypt\",\"Ethiopia\",\"Gabon\",\"Gambia\",\"Ghana\",\"Guinea\",\"Guinea-Bissau\",\"Kenya\",\"Lesotho\",\"Liberia\",\"Libya\",\"Madagascar\",\"Malawi\",\"Mali\",\"Mauritania\",\"Mauritius\",\"Morocco\",\"Mozambique\",\"Namibia\",\"Niger\",\"Nigeria\",\"Rwanda\",\"Sao Tome and Principe\",\"Senegal\",\"Seychelles\",\"Sierra Leone\",\"Somalia\",\"South Africa\",\"Togo\",\"Tunisia\",\"Uganda\",\"Zambia\",\"Zimbabwe\"],\"locationmode\":\"country names\",\"marker\":{\"line\":{\"colorbar\":{\"title\":\"\",\"ticklen\":2},\"cmin\":3.04,\"cmax\":27.789999999999999,\"colorscale\":[[\"0\",\"rgba(99,184,255,1)\"],[\"0.0416666666666667\",\"rgba(95,173,249,1)\"],[\"0.0833333333333333\",\"rgba(91,161,242,1)\"],[\"0.125\",\"rgba(86,150,236,1)\"],[\"0.166666666666667\",\"rgba(82,139,230,1)\"],[\"0.208333333333333\",\"rgba(76,128,224,1)\"],[\"0.25\",\"rgba(71,117,217,1)\"],[\"0.291666666666667\",\"rgba(65,106,211,1)\"],[\"0.333333333333333\",\"rgba(58,95,205,1)\"],[\"0.375\",\"rgba(109,91,185,1)\"],[\"0.416666666666667\",\"rgba(140,87,164,1)\"],[\"0.458333333333333\",\"rgba(163,82,145,1)\"],[\"0.5\",\"rgba(181,77,125,1)\"],[\"0.541666666666667\",\"rgba(198,71,105,1)\"],[\"0.583333333333333\",\"rgba(212,64,86,1)\"],[\"0.625\",\"rgba(226,55,66,1)\"],[\"0.666666666666667\",\"rgba(238,44,44,1)\"],[\"0.708333333333333\",\"rgba(225,42,42,1)\"],[\"0.75\",\"rgba(212,39,39,1)\"],[\"0.791666666666667\",\"rgba(200,37,37,1)\"],[\"0.833333333333333\",\"rgba(187,35,35,1)\"],[\"0.875\",\"rgba(175,33,33,1)\"],[\"0.916666666666667\",\"rgba(163,30,30,1)\"],[\"0.958333333333333\",\"rgba(151,28,28,1)\"],[\"1\",\"rgba(139,26,26,1)\"]],\"showscale\":false,\"color\":\"black\",\"width\":1}},\"text\":[\"Algeria\",\"Angola\",\"Benin\",\"Botswana\",\"Burkina Faso\",\"Cameroon\",\"Central African Republic\",\"Chad\",\"Comoros\",\"Democratic Republic of the Congo\",\"Djibouti\",\"Egypt\",\"Ethiopia\",\"Gabon\",\"Gambia\",\"Ghana\",\"Guinea\",\"Guinea-Bissau\",\"Kenya\",\"Lesotho\",\"Liberia\",\"Libya\",\"Madagascar\",\"Malawi\",\"Mali\",\"Mauritania\",\"Mauritius\",\"Morocco\",\"Mozambique\",\"Namibia\",\"Niger\",\"Nigeria\",\"Rwanda\",\"Sao Tome and Principe\",\"Senegal\",\"Seychelles\",\"Sierra Leone\",\"Somalia\",\"South Africa\",\"Togo\",\"Tunisia\",\"Uganda\",\"Zambia\",\"Zimbabwe\"],\"hovertemplate\":[\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\"],\"type\":\"choropleth\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n\n```{.r .cell-code}\nafrica_mal\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-6bb4fda06478ccca5959\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-6bb4fda06478ccca5959\">{\"x\":{\"visdat\":{\"17fb25f429840\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"17fb25f429840\",\"attrs\":{\"17fb25f429840\":{\"z\":{},\"locations\":{},\"locationmode\":\"country names\",\"marker\":{\"line\":{\"color\":\"black\",\"width\":1}},\"text\":{},\"hovertemplate\":\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"color\":{},\"colors\":[\"steelblue1\",\"royalblue3\",\"firebrick2\",\"firebrick4\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"choropleth\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"zaxis\":{\"title\":\"Avg_Malnour_Perc\"}},\"hovermode\":\"closest\",\"showlegend\":false,\"legend\":{\"yanchor\":\"top\",\"y\":0.5},\"title\":\"<b>Average Malnourishment Rate in Africa (2000-2020)<b>\",\"geo\":{\"scope\":\"world\",\"projection\":{\"type\":\"equirectangular\"},\"showlakes\":false,\"showland\":true,\"showcountries\":true,\"showcoastlines\":true,\"showframe\":true,\"countrycolor\":\"black\",\"countrywidth\":1,\"lonaxis\":{\"range\":[-20,55]},\"lataxis\":{\"range\":[-38,40]},\"resolution\":50,\"landcolor\":\"aliceblue\"},\"paper_bgcolor\":\"aliceblue\",\"font\":{\"family\":\"Palatino\"}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"colorbar\":{\"title\":\"<b>Rate<b>\",\"ticklen\":2,\"len\":0.5,\"lenmode\":\"fraction\",\"y\":1,\"yanchor\":\"top\"},\"colorscale\":[[\"0\",\"rgba(99,184,255,1)\"],[\"0.0416666666666667\",\"rgba(95,173,249,1)\"],[\"0.0833333333333333\",\"rgba(91,161,242,1)\"],[\"0.125\",\"rgba(86,150,236,1)\"],[\"0.166666666666667\",\"rgba(82,139,230,1)\"],[\"0.208333333333333\",\"rgba(76,128,224,1)\"],[\"0.25\",\"rgba(71,117,217,1)\"],[\"0.291666666666667\",\"rgba(65,106,211,1)\"],[\"0.333333333333333\",\"rgba(58,95,205,1)\"],[\"0.375\",\"rgba(109,91,185,1)\"],[\"0.416666666666667\",\"rgba(140,87,164,1)\"],[\"0.458333333333333\",\"rgba(163,82,145,1)\"],[\"0.5\",\"rgba(181,77,125,1)\"],[\"0.541666666666667\",\"rgba(198,71,105,1)\"],[\"0.583333333333333\",\"rgba(212,64,86,1)\"],[\"0.625\",\"rgba(226,55,66,1)\"],[\"0.666666666666667\",\"rgba(238,44,44,1)\"],[\"0.708333333333333\",\"rgba(225,42,42,1)\"],[\"0.75\",\"rgba(212,39,39,1)\"],[\"0.791666666666667\",\"rgba(200,37,37,1)\"],[\"0.833333333333333\",\"rgba(187,35,35,1)\"],[\"0.875\",\"rgba(175,33,33,1)\"],[\"0.916666666666667\",\"rgba(163,30,30,1)\"],[\"0.958333333333333\",\"rgba(151,28,28,1)\"],[\"1\",\"rgba(139,26,26,1)\"]],\"showscale\":true,\"z\":[4.9199999999999999,34.649999999999999,10.550000000000001,23.48,15.99,10.48,39.57,32.299999999999997,16.370000000000001,28.940000000000001,27.710000000000001,5.6299999999999999,28.359999999999999,15.34,16.960000000000001,9.1899999999999995,14.66,23.629999999999999,25.030000000000001,18.84,34.579999999999998,5.3899999999999997,34.07,17.52,8.9800000000000004,7.3499999999999996,5.4199999999999999,4.9900000000000002,30.280000000000001,22.399999999999999,16.670000000000002,8.4399999999999995,32.68,14.039999999999999,14.050000000000001,3.79,34.740000000000002,66.390000000000001,4.5800000000000001,24.350000000000001,3.6499999999999999,21.440000000000001,44.210000000000001,30.02],\"locations\":[\"Algeria\",\"Angola\",\"Benin\",\"Botswana\",\"Burkina Faso\",\"Cameroon\",\"Central African Republic\",\"Chad\",\"Comoros\",\"Democratic Republic of the Congo\",\"Djibouti\",\"Egypt\",\"Ethiopia\",\"Gabon\",\"Gambia\",\"Ghana\",\"Guinea\",\"Guinea-Bissau\",\"Kenya\",\"Lesotho\",\"Liberia\",\"Libya\",\"Madagascar\",\"Malawi\",\"Mali\",\"Mauritania\",\"Mauritius\",\"Morocco\",\"Mozambique\",\"Namibia\",\"Niger\",\"Nigeria\",\"Rwanda\",\"Sao Tome and Principe\",\"Senegal\",\"Seychelles\",\"Sierra Leone\",\"Somalia\",\"South Africa\",\"Togo\",\"Tunisia\",\"Uganda\",\"Zambia\",\"Zimbabwe\"],\"locationmode\":\"country names\",\"marker\":{\"line\":{\"colorbar\":{\"title\":\"\",\"ticklen\":2},\"cmin\":3.6499999999999999,\"cmax\":66.390000000000001,\"colorscale\":[[\"0\",\"rgba(99,184,255,1)\"],[\"0.0416666666666667\",\"rgba(95,173,249,1)\"],[\"0.0833333333333333\",\"rgba(91,161,242,1)\"],[\"0.125\",\"rgba(86,150,236,1)\"],[\"0.166666666666667\",\"rgba(82,139,230,1)\"],[\"0.208333333333333\",\"rgba(76,128,224,1)\"],[\"0.25\",\"rgba(71,117,217,1)\"],[\"0.291666666666667\",\"rgba(65,106,211,1)\"],[\"0.333333333333333\",\"rgba(58,95,205,1)\"],[\"0.375\",\"rgba(109,91,185,1)\"],[\"0.416666666666667\",\"rgba(140,87,164,1)\"],[\"0.458333333333333\",\"rgba(163,82,145,1)\"],[\"0.5\",\"rgba(181,77,125,1)\"],[\"0.541666666666667\",\"rgba(198,71,105,1)\"],[\"0.583333333333333\",\"rgba(212,64,86,1)\"],[\"0.625\",\"rgba(226,55,66,1)\"],[\"0.666666666666667\",\"rgba(238,44,44,1)\"],[\"0.708333333333333\",\"rgba(225,42,42,1)\"],[\"0.75\",\"rgba(212,39,39,1)\"],[\"0.791666666666667\",\"rgba(200,37,37,1)\"],[\"0.833333333333333\",\"rgba(187,35,35,1)\"],[\"0.875\",\"rgba(175,33,33,1)\"],[\"0.916666666666667\",\"rgba(163,30,30,1)\"],[\"0.958333333333333\",\"rgba(151,28,28,1)\"],[\"1\",\"rgba(139,26,26,1)\"]],\"showscale\":false,\"color\":\"black\",\"width\":1}},\"text\":[\"Algeria\",\"Angola\",\"Benin\",\"Botswana\",\"Burkina Faso\",\"Cameroon\",\"Central African Republic\",\"Chad\",\"Comoros\",\"Democratic Republic of the Congo\",\"Djibouti\",\"Egypt\",\"Ethiopia\",\"Gabon\",\"Gambia\",\"Ghana\",\"Guinea\",\"Guinea-Bissau\",\"Kenya\",\"Lesotho\",\"Liberia\",\"Libya\",\"Madagascar\",\"Malawi\",\"Mali\",\"Mauritania\",\"Mauritius\",\"Morocco\",\"Mozambique\",\"Namibia\",\"Niger\",\"Nigeria\",\"Rwanda\",\"Sao Tome and Principe\",\"Senegal\",\"Seychelles\",\"Sierra Leone\",\"Somalia\",\"South Africa\",\"Togo\",\"Tunisia\",\"Uganda\",\"Zambia\",\"Zimbabwe\"],\"hovertemplate\":[\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\",\"%{text}: %{z:.2f}% <extra><\\/extra>\"],\"type\":\"choropleth\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nobesity_map <- plot_ly(\n  data = country_avgs,\n  z = ~Avg_Obesity_Perc,\n  locations = ~region,\n  locationmode = \"country names\",\n  type = \"choropleth\",\n  color = ~Avg_Obesity_Perc,\n  colors = custom_palette,\n  marker = list(line = list(color = \"black\", width = 1)),\n  text=~region,\n  hovertemplate = paste(\"%{text}'s Obesity Rate = %{z:.2f}%\", \"<extra></extra>\")\n) %>%\ncolorbar(title = \"<b>Rate<b>\") %>%\nlayout(\n  title = \"<b>Average Obesity Rate (2000-2016)<b>\",\n  geo = list(scope = \"world\", projection = list(type = \"equirectangular\"), showlakes = FALSE,\n    showland = TRUE,\n    showcountries = TRUE,\n    showcoastlines = TRUE,\n    showframe = TRUE,\n    countrycolor = \"black\",\n    countrywidth = 0.5,\n    lonaxis = list(range = c(-30, 60)), \n    lataxis = list(range = c(-40, 82)), \n    resolution = 50, landcolor=\"aliceblue\"), \n  paper_bgcolor = \"white\", \n  font = list(family = \"Palatino\"), \n  legend=list(x=1.05, y=0.5, borderwidth=1, bordercolor='black', title=\"Obesity Rate\")\n)\n\nmalnourished_map <- plot_ly(\n  data = country_avgs,\n  z = ~Avg_Malnour_Perc,\n  locations = ~region,\n  locationmode = \"country names\",\n  type = \"choropleth\",\n  color = ~Avg_Malnour_Perc,\n  colors = custom_palette,\n  marker = list(line = list(color = \"black\", width = 1)),\n  text=~region,\n  hovertemplate = paste(\"%{text}'s Malnourishment Rate = %{z:.2f}%\", \"<extra></extra>\")\n) %>%\ncolorbar(title = \"<b>Rate<b>\")%>%\nlayout(\n  title = \"<b>Average Malnourishment Rate (2000-2016)<b>\",\n  geo = list(scope = \"world\", projection = list(type = \"equirectangular\"), showlakes = FALSE,\n    showland = TRUE,\n    showcountries = TRUE,\n    showcoastlines = TRUE,\n    showframe = TRUE,\n    countrycolor = \"black\",\n    countrywidth = 0.5,\n    lonaxis = list(range = c(-30, 60)), \n    lataxis = list(range = c(-40, 82)), \n    resolution = 50, landcolor=\"aliceblue\"), paper_bgcolor = \"white\", font = list(family = \"Palatino\")\n)\n\nobesity_map\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-1afee4e2a483e32ea68e\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-1afee4e2a483e32ea68e\">{\"x\":{\"visdat\":{\"17fb21637967c\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"17fb21637967c\",\"attrs\":{\"17fb21637967c\":{\"z\":{},\"locations\":{},\"locationmode\":\"country names\",\"marker\":{\"line\":{\"color\":\"black\",\"width\":1}},\"text\":{},\"hovertemplate\":\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"color\":{},\"colors\":[\"steelblue1\",\"royalblue3\",\"firebrick2\",\"firebrick4\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"choropleth\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"zaxis\":{\"title\":\"Avg_Obesity_Perc\"}},\"hovermode\":\"closest\",\"showlegend\":false,\"legend\":{\"yanchor\":\"top\",\"y\":0.5,\"x\":1.05,\"borderwidth\":1,\"bordercolor\":\"black\",\"title\":\"Obesity Rate\"},\"title\":\"<b>Average Obesity Rate (2000-2016)<b>\",\"geo\":{\"scope\":\"world\",\"projection\":{\"type\":\"equirectangular\"},\"showlakes\":false,\"showland\":true,\"showcountries\":true,\"showcoastlines\":true,\"showframe\":true,\"countrycolor\":\"black\",\"countrywidth\":0.5,\"lonaxis\":{\"range\":[-30,60]},\"lataxis\":{\"range\":[-40,82]},\"resolution\":50,\"landcolor\":\"aliceblue\"},\"paper_bgcolor\":\"white\",\"font\":{\"family\":\"Palatino\"}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"colorbar\":{\"title\":\"<b>Rate<b>\",\"ticklen\":2,\"len\":0.5,\"lenmode\":\"fraction\",\"y\":1,\"yanchor\":\"top\"},\"colorscale\":[[\"0\",\"rgba(99,184,255,1)\"],[\"0.0416666666666667\",\"rgba(95,173,249,1)\"],[\"0.0833333333333333\",\"rgba(91,161,242,1)\"],[\"0.125\",\"rgba(86,150,236,1)\"],[\"0.166666666666667\",\"rgba(82,139,230,1)\"],[\"0.208333333333333\",\"rgba(76,128,224,1)\"],[\"0.25\",\"rgba(71,117,217,1)\"],[\"0.291666666666667\",\"rgba(65,106,211,1)\"],[\"0.333333333333333\",\"rgba(58,95,205,1)\"],[\"0.375\",\"rgba(109,91,185,1)\"],[\"0.416666666666667\",\"rgba(140,87,164,1)\"],[\"0.458333333333333\",\"rgba(163,82,145,1)\"],[\"0.5\",\"rgba(181,77,125,1)\"],[\"0.541666666666667\",\"rgba(198,71,105,1)\"],[\"0.583333333333333\",\"rgba(212,64,86,1)\"],[\"0.625\",\"rgba(226,55,66,1)\"],[\"0.666666666666667\",\"rgba(238,44,44,1)\"],[\"0.708333333333333\",\"rgba(225,42,42,1)\"],[\"0.75\",\"rgba(212,39,39,1)\"],[\"0.791666666666667\",\"rgba(200,37,37,1)\"],[\"0.833333333333333\",\"rgba(187,35,35,1)\"],[\"0.875\",\"rgba(175,33,33,1)\"],[\"0.916666666666667\",\"rgba(163,30,30,1)\"],[\"0.958333333333333\",\"rgba(151,28,28,1)\"],[\"1\",\"rgba(139,26,26,1)\"]],\"showscale\":true,\"z\":[17.190000000000001,22.18,5.71,16.93,21.600000000000001,19.489999999999998,7.1299999999999999,15.050000000000001,16.129999999999999,21.649999999999999,3.6499999999999999,8.4399999999999995,5.5199999999999996,4.3600000000000003,5.8099999999999996,20.780000000000001,4.7199999999999998,16.760000000000002,11.300000000000001,26.870000000000001,19.190000000000001,3.04,19.260000000000002,18.649999999999999,12.119999999999999,7.3600000000000003,19.210000000000001,8.0899999999999999,21.620000000000001,5.5099999999999998,6.6799999999999997,22.75,18.91,20.489999999999998,17.460000000000001,4.9800000000000004,21.329999999999998,13.24,7.5099999999999998,27.789999999999999,23.850000000000001,19.18,3.6099999999999999,4.0800000000000001,6.0099999999999998,26.039999999999999,9.5700000000000003,8.6600000000000001,19.84,21.109999999999999,5.29,13.130000000000001,3.8399999999999999,6.1900000000000004,19.559999999999999,19.5,20.18,17.239999999999998,19.120000000000001,3.8900000000000001,9.2400000000000002,6.6100000000000003,18.449999999999999,11.119999999999999,6.3799999999999999,17.870000000000001,17.530000000000001,6,23.98,21.02,17.5,16.600000000000001,6.0800000000000001,22.41,3.6499999999999999,21.460000000000001,5.8899999999999997,13.1],\"locations\":[\"Albania\",\"Algeria\",\"Angola\",\"Austria\",\"Belarus\",\"Belgium\",\"Benin\",\"Bosnia and Herzegovina\",\"Botswana\",\"Bulgaria\",\"Burkina Faso\",\"Cameroon\",\"Central African Republic\",\"Chad\",\"Comoros\",\"Croatia\",\"Democratic Republic of the Congo\",\"Denmark\",\"Djibouti\",\"Egypt\",\"Estonia\",\"Ethiopia\",\"Finland\",\"France\",\"Gabon\",\"Gambia\",\"Germany\",\"Ghana\",\"Greece\",\"Guinea\",\"Guinea-Bissau\",\"Hungary\",\"Iceland\",\"Ireland\",\"Italy\",\"Kenya\",\"Latvia\",\"Lesotho\",\"Liberia\",\"Libya\",\"Lithuania\",\"Luxembourg\",\"Madagascar\",\"Malawi\",\"Mali\",\"Malta\",\"Mauritania\",\"Mauritius\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Namibia\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Norway\",\"Poland\",\"Portugal\",\"Romania\",\"Rwanda\",\"Sao Tome and Principe\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Slovakia\",\"Slovenia\",\"Somalia\",\"South Africa\",\"Spain\",\"Sweden\",\"Switzerland\",\"Togo\",\"Tunisia\",\"Uganda\",\"Ukraine\",\"Zambia\",\"Zimbabwe\"],\"locationmode\":\"country names\",\"marker\":{\"line\":{\"colorbar\":{\"title\":\"\",\"ticklen\":2},\"cmin\":3.04,\"cmax\":27.789999999999999,\"colorscale\":[[\"0\",\"rgba(99,184,255,1)\"],[\"0.0416666666666667\",\"rgba(95,173,249,1)\"],[\"0.0833333333333333\",\"rgba(91,161,242,1)\"],[\"0.125\",\"rgba(86,150,236,1)\"],[\"0.166666666666667\",\"rgba(82,139,230,1)\"],[\"0.208333333333333\",\"rgba(76,128,224,1)\"],[\"0.25\",\"rgba(71,117,217,1)\"],[\"0.291666666666667\",\"rgba(65,106,211,1)\"],[\"0.333333333333333\",\"rgba(58,95,205,1)\"],[\"0.375\",\"rgba(109,91,185,1)\"],[\"0.416666666666667\",\"rgba(140,87,164,1)\"],[\"0.458333333333333\",\"rgba(163,82,145,1)\"],[\"0.5\",\"rgba(181,77,125,1)\"],[\"0.541666666666667\",\"rgba(198,71,105,1)\"],[\"0.583333333333333\",\"rgba(212,64,86,1)\"],[\"0.625\",\"rgba(226,55,66,1)\"],[\"0.666666666666667\",\"rgba(238,44,44,1)\"],[\"0.708333333333333\",\"rgba(225,42,42,1)\"],[\"0.75\",\"rgba(212,39,39,1)\"],[\"0.791666666666667\",\"rgba(200,37,37,1)\"],[\"0.833333333333333\",\"rgba(187,35,35,1)\"],[\"0.875\",\"rgba(175,33,33,1)\"],[\"0.916666666666667\",\"rgba(163,30,30,1)\"],[\"0.958333333333333\",\"rgba(151,28,28,1)\"],[\"1\",\"rgba(139,26,26,1)\"]],\"showscale\":false,\"color\":\"black\",\"width\":1}},\"text\":[\"Albania\",\"Algeria\",\"Angola\",\"Austria\",\"Belarus\",\"Belgium\",\"Benin\",\"Bosnia and Herzegovina\",\"Botswana\",\"Bulgaria\",\"Burkina Faso\",\"Cameroon\",\"Central African Republic\",\"Chad\",\"Comoros\",\"Croatia\",\"Democratic Republic of the Congo\",\"Denmark\",\"Djibouti\",\"Egypt\",\"Estonia\",\"Ethiopia\",\"Finland\",\"France\",\"Gabon\",\"Gambia\",\"Germany\",\"Ghana\",\"Greece\",\"Guinea\",\"Guinea-Bissau\",\"Hungary\",\"Iceland\",\"Ireland\",\"Italy\",\"Kenya\",\"Latvia\",\"Lesotho\",\"Liberia\",\"Libya\",\"Lithuania\",\"Luxembourg\",\"Madagascar\",\"Malawi\",\"Mali\",\"Malta\",\"Mauritania\",\"Mauritius\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Namibia\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Norway\",\"Poland\",\"Portugal\",\"Romania\",\"Rwanda\",\"Sao Tome and Principe\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Slovakia\",\"Slovenia\",\"Somalia\",\"South Africa\",\"Spain\",\"Sweden\",\"Switzerland\",\"Togo\",\"Tunisia\",\"Uganda\",\"Ukraine\",\"Zambia\",\"Zimbabwe\"],\"hovertemplate\":[\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Obesity Rate = %{z:.2f}% <extra><\\/extra>\"],\"type\":\"choropleth\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n\n```{.r .cell-code}\nmalnourished_map\n```\n\n::: {.cell-output-display}\n```{=html}\n<div class=\"plotly html-widget html-fill-item-overflow-hidden html-fill-item\" id=\"htmlwidget-81612b980ba66b8bb964\" style=\"width:100%;height:464px;\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-81612b980ba66b8bb964\">{\"x\":{\"visdat\":{\"17fb21b78b249\":[\"function () \",\"plotlyVisDat\"]},\"cur_data\":\"17fb21b78b249\",\"attrs\":{\"17fb21b78b249\":{\"z\":{},\"locations\":{},\"locationmode\":\"country names\",\"marker\":{\"line\":{\"color\":\"black\",\"width\":1}},\"text\":{},\"hovertemplate\":\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"color\":{},\"colors\":[\"steelblue1\",\"royalblue3\",\"firebrick2\",\"firebrick4\"],\"alpha_stroke\":1,\"sizes\":[10,100],\"spans\":[1,20],\"type\":\"choropleth\"}},\"layout\":{\"margin\":{\"b\":40,\"l\":60,\"t\":25,\"r\":10},\"scene\":{\"zaxis\":{\"title\":\"Avg_Malnour_Perc\"}},\"hovermode\":\"closest\",\"showlegend\":false,\"legend\":{\"yanchor\":\"top\",\"y\":0.5},\"title\":\"<b>Average Malnourishment Rate (2000-2016)<b>\",\"geo\":{\"scope\":\"world\",\"projection\":{\"type\":\"equirectangular\"},\"showlakes\":false,\"showland\":true,\"showcountries\":true,\"showcoastlines\":true,\"showframe\":true,\"countrycolor\":\"black\",\"countrywidth\":0.5,\"lonaxis\":{\"range\":[-30,60]},\"lataxis\":{\"range\":[-40,82]},\"resolution\":50,\"landcolor\":\"aliceblue\"},\"paper_bgcolor\":\"white\",\"font\":{\"family\":\"Palatino\"}},\"source\":\"A\",\"config\":{\"modeBarButtonsToAdd\":[\"hoverclosest\",\"hovercompare\"],\"showSendToCloud\":false},\"data\":[{\"colorbar\":{\"title\":\"<b>Rate<b>\",\"ticklen\":2,\"len\":0.5,\"lenmode\":\"fraction\",\"y\":1,\"yanchor\":\"top\"},\"colorscale\":[[\"0\",\"rgba(99,184,255,1)\"],[\"0.0416666666666667\",\"rgba(95,173,249,1)\"],[\"0.0833333333333333\",\"rgba(91,161,242,1)\"],[\"0.125\",\"rgba(86,150,236,1)\"],[\"0.166666666666667\",\"rgba(82,139,230,1)\"],[\"0.208333333333333\",\"rgba(76,128,224,1)\"],[\"0.25\",\"rgba(71,117,217,1)\"],[\"0.291666666666667\",\"rgba(65,106,211,1)\"],[\"0.333333333333333\",\"rgba(58,95,205,1)\"],[\"0.375\",\"rgba(109,91,185,1)\"],[\"0.416666666666667\",\"rgba(140,87,164,1)\"],[\"0.458333333333333\",\"rgba(163,82,145,1)\"],[\"0.5\",\"rgba(181,77,125,1)\"],[\"0.541666666666667\",\"rgba(198,71,105,1)\"],[\"0.583333333333333\",\"rgba(212,64,86,1)\"],[\"0.625\",\"rgba(226,55,66,1)\"],[\"0.666666666666667\",\"rgba(238,44,44,1)\"],[\"0.708333333333333\",\"rgba(225,42,42,1)\"],[\"0.75\",\"rgba(212,39,39,1)\"],[\"0.791666666666667\",\"rgba(200,37,37,1)\"],[\"0.833333333333333\",\"rgba(187,35,35,1)\"],[\"0.875\",\"rgba(175,33,33,1)\"],[\"0.916666666666667\",\"rgba(163,30,30,1)\"],[\"0.958333333333333\",\"rgba(151,28,28,1)\"],[\"1\",\"rgba(139,26,26,1)\"]],\"showscale\":true,\"z\":[6.04,4.9199999999999999,34.649999999999999,2.5,2.6000000000000001,2.5,10.550000000000001,2.6499999999999999,23.48,4.25,15.99,10.48,39.57,32.299999999999997,16.370000000000001,2.9900000000000002,28.940000000000001,2.5,27.710000000000001,5.6299999999999999,2.6800000000000002,28.359999999999999,2.5,2.5,15.34,16.960000000000001,2.5,9.1899999999999995,2.5,14.66,23.629999999999999,2.5,2.5,2.5,2.5,25.030000000000001,2.6899999999999999,18.84,34.579999999999998,5.3899999999999997,2.5,2.5,34.07,17.52,8.9800000000000004,2.5,7.3499999999999996,5.4199999999999999,4.1500000000000004,4.9900000000000002,30.280000000000001,22.399999999999999,16.670000000000002,8.4399999999999995,4.3399999999999999,2.5,2.5,2.5,2.5,32.68,14.039999999999999,14.050000000000001,2.6400000000000001,3.79,34.740000000000002,5.4400000000000004,2.5,66.390000000000001,4.5800000000000001,2.5,2.5,2.5,24.350000000000001,3.6499999999999999,21.440000000000001,2.5299999999999998,44.210000000000001,30.02],\"locations\":[\"Albania\",\"Algeria\",\"Angola\",\"Austria\",\"Belarus\",\"Belgium\",\"Benin\",\"Bosnia and Herzegovina\",\"Botswana\",\"Bulgaria\",\"Burkina Faso\",\"Cameroon\",\"Central African Republic\",\"Chad\",\"Comoros\",\"Croatia\",\"Democratic Republic of the Congo\",\"Denmark\",\"Djibouti\",\"Egypt\",\"Estonia\",\"Ethiopia\",\"Finland\",\"France\",\"Gabon\",\"Gambia\",\"Germany\",\"Ghana\",\"Greece\",\"Guinea\",\"Guinea-Bissau\",\"Hungary\",\"Iceland\",\"Ireland\",\"Italy\",\"Kenya\",\"Latvia\",\"Lesotho\",\"Liberia\",\"Libya\",\"Lithuania\",\"Luxembourg\",\"Madagascar\",\"Malawi\",\"Mali\",\"Malta\",\"Mauritania\",\"Mauritius\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Namibia\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Norway\",\"Poland\",\"Portugal\",\"Romania\",\"Rwanda\",\"Sao Tome and Principe\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Slovakia\",\"Slovenia\",\"Somalia\",\"South Africa\",\"Spain\",\"Sweden\",\"Switzerland\",\"Togo\",\"Tunisia\",\"Uganda\",\"Ukraine\",\"Zambia\",\"Zimbabwe\"],\"locationmode\":\"country names\",\"marker\":{\"line\":{\"colorbar\":{\"title\":\"\",\"ticklen\":2},\"cmin\":2.5,\"cmax\":66.390000000000001,\"colorscale\":[[\"0\",\"rgba(99,184,255,1)\"],[\"0.0416666666666667\",\"rgba(95,173,249,1)\"],[\"0.0833333333333333\",\"rgba(91,161,242,1)\"],[\"0.125\",\"rgba(86,150,236,1)\"],[\"0.166666666666667\",\"rgba(82,139,230,1)\"],[\"0.208333333333333\",\"rgba(76,128,224,1)\"],[\"0.25\",\"rgba(71,117,217,1)\"],[\"0.291666666666667\",\"rgba(65,106,211,1)\"],[\"0.333333333333333\",\"rgba(58,95,205,1)\"],[\"0.375\",\"rgba(109,91,185,1)\"],[\"0.416666666666667\",\"rgba(140,87,164,1)\"],[\"0.458333333333333\",\"rgba(163,82,145,1)\"],[\"0.5\",\"rgba(181,77,125,1)\"],[\"0.541666666666667\",\"rgba(198,71,105,1)\"],[\"0.583333333333333\",\"rgba(212,64,86,1)\"],[\"0.625\",\"rgba(226,55,66,1)\"],[\"0.666666666666667\",\"rgba(238,44,44,1)\"],[\"0.708333333333333\",\"rgba(225,42,42,1)\"],[\"0.75\",\"rgba(212,39,39,1)\"],[\"0.791666666666667\",\"rgba(200,37,37,1)\"],[\"0.833333333333333\",\"rgba(187,35,35,1)\"],[\"0.875\",\"rgba(175,33,33,1)\"],[\"0.916666666666667\",\"rgba(163,30,30,1)\"],[\"0.958333333333333\",\"rgba(151,28,28,1)\"],[\"1\",\"rgba(139,26,26,1)\"]],\"showscale\":false,\"color\":\"black\",\"width\":1}},\"text\":[\"Albania\",\"Algeria\",\"Angola\",\"Austria\",\"Belarus\",\"Belgium\",\"Benin\",\"Bosnia and Herzegovina\",\"Botswana\",\"Bulgaria\",\"Burkina Faso\",\"Cameroon\",\"Central African Republic\",\"Chad\",\"Comoros\",\"Croatia\",\"Democratic Republic of the Congo\",\"Denmark\",\"Djibouti\",\"Egypt\",\"Estonia\",\"Ethiopia\",\"Finland\",\"France\",\"Gabon\",\"Gambia\",\"Germany\",\"Ghana\",\"Greece\",\"Guinea\",\"Guinea-Bissau\",\"Hungary\",\"Iceland\",\"Ireland\",\"Italy\",\"Kenya\",\"Latvia\",\"Lesotho\",\"Liberia\",\"Libya\",\"Lithuania\",\"Luxembourg\",\"Madagascar\",\"Malawi\",\"Mali\",\"Malta\",\"Mauritania\",\"Mauritius\",\"Montenegro\",\"Morocco\",\"Mozambique\",\"Namibia\",\"Niger\",\"Nigeria\",\"North Macedonia\",\"Norway\",\"Poland\",\"Portugal\",\"Romania\",\"Rwanda\",\"Sao Tome and Principe\",\"Senegal\",\"Serbia\",\"Seychelles\",\"Sierra Leone\",\"Slovakia\",\"Slovenia\",\"Somalia\",\"South Africa\",\"Spain\",\"Sweden\",\"Switzerland\",\"Togo\",\"Tunisia\",\"Uganda\",\"Ukraine\",\"Zambia\",\"Zimbabwe\"],\"hovertemplate\":[\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\",\"%{text}'s Malnourishment Rate = %{z:.2f}% <extra><\\/extra>\"],\"type\":\"choropleth\",\"frame\":null}],\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.20000000000000001,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\",\"plotly_sunburstclick\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"site_libs/htmlwidgets-1.6.2/htmlwidgets.js\"></script>\n<script src=\"site_libs/plotly-binding-4.10.2.9000/plotly.js\"></script>\n<script src=\"site_libs/typedarray-0.1/typedarray.min.js\"></script>\n<script src=\"site_libs/jquery-3.5.1/jquery.min.js\"></script>\n<link href=\"site_libs/crosstalk-1.2.1/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/crosstalk-1.2.1/js/crosstalk.min.js\"></script>\n<link href=\"site_libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css\" rel=\"stylesheet\" />\n<script src=\"site_libs/plotly-main-2.11.1/plotly-latest.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}